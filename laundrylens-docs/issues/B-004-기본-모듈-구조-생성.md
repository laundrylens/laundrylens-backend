# [B-004] 기본 모듈 구조 생성

## 개요
- 이슈: 도메인별 모듈 구조 생성
- 작업 기간: 2026-01-28

## 구현 내용

### 주요 변경사항
- @nestjs/swagger 설치
- 7개 도메인 모듈 생성 (auth, users, symbols, materials, analyze, payment, subscription)
- 각 모듈별 Controller, Service, Module 구현
- common 폴더 구조 생성 (decorators, guards)

### 파일 구조
```
laundrylens-backend/src/
├── modules/
│   ├── auth/
│   │   ├── auth.controller.ts
│   │   ├── auth.service.ts
│   │   ├── auth.module.ts
│   │   └── index.ts
│   ├── users/
│   ├── symbols/
│   ├── materials/
│   ├── analyze/
│   ├── payment/
│   └── subscription/
├── common/
│   ├── decorators/
│   └── guards/
└── app.module.ts
```

## 기술적 세부사항

### 모듈 구조
| 모듈 | 역할 |
|------|------|
| AuthModule | 소셜 로그인 인증 |
| UsersModule | 사용자 관리 |
| SymbolsModule | 세탁기호 데이터 |
| MaterialsModule | 소재 정보 |
| AnalyzeModule | AI 이미지 분석 |
| PaymentModule | 토스페이먼츠 결제 |
| SubscriptionModule | 구독 관리 |

### 공통 패턴
- 모든 서비스에서 PrismaService 주입
- @ApiTags()로 Swagger 그룹화
- 모듈별 exports로 서비스 공유 가능

## 테스트

```bash
cd laundrylens-backend && pnpm test
```

### 테스트 결과
```
PASS src/config/configuration.spec.ts
PASS src/app.controller.spec.ts
PASS src/prisma/prisma.service.spec.ts

Test Suites: 3 passed, 3 total
Tests:       11 passed, 11 total
```

## 의사결정 기록

| 날짜 | 결정 사항 | 이유 | 대안 |
|------|----------|------|------|
| 2026-01-28 | 도메인별 모듈 분리 | 관심사 분리, 유지보수성 | 기능별 분리 |
| 2026-01-28 | 빈 서비스로 시작 | 점진적 구현, 구조 우선 확립 | 전체 기능 한번에 |

## 참고 자료
- [NestJS Modules](https://docs.nestjs.com/modules)
- [NestJS Swagger](https://docs.nestjs.com/openapi/introduction)
